From a1e14abe10579a4fbcd06fa58ab3ff7e539d5546 Mon Sep 17 00:00:00 2001
From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Date: Wed, 4 Feb 2026 15:02:58 +0100
Subject: Revert "selftests: Replace sleep with slowwait"

From: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

This reverts commit 780095c51e34ec7cdf6f651b4c4f2b35680779e4 which is
commit 2f186dd5585c3afb415df80e52f71af16c9d3655 upstream.

To quote Ben:
	The slowwait function isn't defined in 5.10 (or any stable
	branch older than 6.9).

Link: https://lore.kernel.org/r/b052b71589bb576dcad441eba38c20da81443a46.camel@decadent.org.uk
Reported-by: Ben Hutchings <ben@decadent.org.uk>
Cc: David Ahern <dsahern@kernel.org>
Cc: Simon Horman <horms@kernel.org>
Cc: Jakub Kicinski <kuba@kernel.org>
Cc: Sasha Levin <sashal@kernel.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
---
 tools/testing/selftests/net/fcnal-test.sh |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/tools/testing/selftests/net/fcnal-test.sh
+++ b/tools/testing/selftests/net/fcnal-test.sh
@@ -183,7 +183,7 @@ show_hint()
 kill_procs()
 {
 	killall nettest ping ping6 >/dev/null 2>&1
-	slowwait 2 sh -c 'test -z "$(pgrep '"'^(nettest|ping|ping6)$'"')"'
+	sleep 1
 }
 
 do_run_cmd()
